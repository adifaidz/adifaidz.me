$("#form-contact").addEventListener("submit", function (e) {
    e.preventDefault();
    var t = $("input[name=name]").value,
        a = $("input[name=email").value,
        n = $("input[name=_subject").value,
        s = $("textarea[name=message]").value,
        i = new XMLHttpRequest,
        m = {
            name: t,
            _replyto: a,
            email: a,
            _subject: n,
            message: s
        };
    i.open("POST", "{{ .Site.Params.basin }}", !0), i.setRequestHeader("Content-Type", "application/json; charset=UTF-8"),
    i.onreadystatechange = function () {
        if (i.readyState == 4 && i.status == 200) {

            // Reset form
            $('#form-contact').reset();

            var submit = $('#form-submit');
            var thanks = $('#form-thankyou');

            function thankYouFadeIn() {
                // Fade out submit button
                submit.style.visibility = 'hidden';
                submit.classList.add('hide');
                submit.classList.remove('show');

                // Fade in thank you message
                thanks.style.visibility = 'visible';
                thanks.classList.add('show');
                thanks.classList.remove('hide');
                setTimeout(thankYouFadeOut, 6000);
            };

            function thankYouFadeOut() {
                // Fade out thank you message
                thanks.style.visibility = 'hidden';
                thanks.classList.add('hide');
                thanks.classList.remove('show');

                // Fade in submit button
                submit.style.visibility = 'visible';
                submit.classList.add('show');
                submit.classList.remove('hide');
            };

            thankYouFadeIn();
        }
    }
    i.send(JSON.stringify(m))
});